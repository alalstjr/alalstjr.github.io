---
title: 도메인 주도 설계의 마이크로서비스 개발
description: 마이크로서비스 개발 책을 읽고 내용을 정리했습니다.
author: JJunpro
date: 2024-12-27 00:00:00 +0800
categories: [ 노트 ]
tags: [ MSA ]
pin: false
math: true
mermaid: true
published: false
image:
  path: /assets/img/2024-12-25-4.png
  alt: MSA  
---

## 프롤로그

회사에서 개발자가 스스로 공부할 수 있도록 지원하기 위해 책을 구매해서 공용 책방에 구비해 두는데 구경하다가 마침 "도메인 주도 설계로 시작하는 마이크로서비스 개발" 이라는 제목의 책을 보고  
당장 빌려왔다. 저는 개발 코드의 실력보다 기초 공사의 시작인 설계를 더 중요하게 보기 때문에 무시하고 지나칠 수 없는 책이었다 그래서 바로 대여하고 읽은 후 내용을 정리하려고 합니다.  
책 내용을 전부 담지 않았고 책을 읽으며 인상 깊었던 내용만 정리한 내용입니다.

## MSA 이해

### 마이크로서비스란 무엇인가?

각 서비스와 저장소는 다른 서비스 및 저장소와 격리돼 있으며 API 혹은 메시지 브로커를 통해서만 느슨하게 연계된다.  
따라서 독립적인 확장이 가능하고 하나의 서비스만 독립적으로 배포가 가능한 장점을 가지고 있다.  

이처럼 특정 서비스를 구축하는데 사용되는 언어나 저장소를 자율적으로 선택하는 방식을 `폴리글랏(Polyglot)` 라고 표현합니다.

### 리팩티브 선언

마이크로서비스 아키텍처는 클라우드라는 가상화된 인프라를 활용해서 구조화하는 것이기 때문에 가상화된 인프라의 특징을 고려해서 설계해야 합니다.  

- 응답성 Responsive
  - 사용자에게 신뢰성 있는 응답을 빠르고 적절하게 제공하는 것
- 탄력성 Resilient
  - 장애가 발생하거나 부분적으로 고장 나더라도 시스템 전체가 고장 나지 않고 빠르게 복구하는 능력을 의미
- 유연성 Elastic
  - 시스템의 사용량에 변화가 있더라도 균일한 응답성을 제공하는 것을 의미하며 시스템 사용량에 비례해서 자원을 늘리거나 줄이는 능력
- 메세지 기반 Message Driven
  - 비동기 메세지 전달을 통해 위치 투명성, 느슨한 결합, 논블로킹 통신을 지향하는 것

### 인프라 구성요소

#### 도커 컨테이너

- 이식성 : 어떠한 호스트 커널이나 플랫폼 버전에 상관없이 도커만 실행할 수 있으면 사용 가능하며 동일하게 동작된다.
- 신속성 : 크기가 작고 가볍기 때문에 빠르게 배포 가능하며, 문제 발생 시 수정할 필요 없이 새로 기동하면 된다.
- 재사용성 : 동일한 환경을 재사용해서 쉽게 가능하기 때문에 개발, 테스트, 스테이징, 프로덕트 환경을 동일한 환경으로 구축하기 쉽다.

마이크로서비스 같이 독립적으로 배포되고 수정되기 위한 환경은 가상 머신보다는 컨테이너가 더 적절하다.    
가변적이고 유연한 속성을 컨테이너가 쉽고 빠르게 지원할 수 있기 때문이다.

#### 컨테이너 오케스트레이션

컨테이너가 많아지면 그에 따라 컨에티너가 자동 배치 및 복제, 장애 복구, 확장 및 축소, 컨테이너 간 통신, 로드 밸런싱 등의 컨테이너 관리를 위한 기능이 필요해진다.  
도커 스윔, 아파치 메소스, 등이 있으며 최근 떠오르는 기술은 쿠버네티스 입니다.

## 에필로그

